<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>UI Design</title>

    <link th:href="@{/css/style-304.css}" rel="stylesheet"/>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"/>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>

</head>

<body>


<!-- Resume Starts -->
<div class="resume">
    <!-- Sidebar -->
    <div th:replace="header :: header"></div>
    <!-- Main -->
    <div class="main-block bg-white">
        <div class="objective">
            <h3>Объекты</h3>
            <div class="objective-content">
                <form th:action="@{/managers/objects}" id="filter"
                      method="get" >
                    <div class="form-inline justify-content-around">
                        <input name="countRoom" placeholder="Количество комнат" class="col col-lg-2 form-control"  type="text"/>
                        <input name="maxPrice" placeholder="Минимальная цена" class="col col-lg-2 form-control" type="text"/>
                        <input name="minPrice" placeholder="Максимальная цена" class="col col-lg-2 form-control"  type="text"/>
                        <select id="typeObject" name="typeObject" class="col col-lg-2 form-control">
                            <option>Любой объект</option>
                            <option th:each="to : ${typeObject}"
                                    th:value="${to.typeObject}" th:text="${to.typeObject}">
                            </option>
                        </select>
                        <select id="typeMove" name="typeMove" class="col col-lg-2 form-control">
                            <option>Любой тип</option>
                            <option th:each="tm : ${typeMove}"
                                    th:value="${tm.typeMove.trim()}" th:text="${tm.typeMove.trim()}">
                            </option>
                        </select>
                    </div>
                    <div class="form-inline justify-content-center" style="padding-top: 1rem">
                        <a class="btn btn-danger" id="clean" style="margin-right: 1rem ">Сбросить</a>
                        <button class="btn btn-primary" type="submit">Фильтровать</button>
                    </div>
                </form>
                <h3></h3>
                <a href="/managers/objects/add" class="btn btn-lg btn-primary btn-block" role="button" aria-pressed="true">Добавить объект</a>
                <!-- Контент -->
                <div th:each="obgect,it : ${objects}">
                    <a th:href="'/managers/objects/update/'+ ${obgect.getIdObject()}">
                        <div class = "row my_card" >
                            <div class="col-4">
                                <div class="row">
<!--                                    <div th:id="'sliderBigImages'+${it.index}" class="carousel slide" data-ride="carousel" style="width: 270px">-->
<!--                                        <div class="carousel-inner">-->
<!--                                            <div th:each="photo, iterator : ${obgect.getPhotos()}">-->
<!--                                                <div class="carousel-item active" th:if="${iterator.index == 0}">-->
<!--                                                    <img th:src="'https://storage.yandexcloud.net/okm3agency/'+${photo.getURL_photo()}" class="d-block w-100" alt="...">-->
<!--                                                </div>-->
<!--                                                <div class="carousel-item" th:unless="${iterator.index == 0}">-->
<!--                                                    <img th:src="'https://storage.yandexcloud.net/okm3agency/'+${photo.getURL_photo()}" class="d-block w-100" alt="...">-->
<!--                                                </div>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                        <a class="carousel-control-prev" th:href="'#sliderBigImages'+${it.index}" role="button" data-slide="prev">-->
<!--                                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>-->
<!--                                            <span class="sr-only">Previous</span>-->
<!--                                        </a>-->
<!--                                        <a class="carousel-control-next" th:href="'#sliderBigImages'+${it.index}" role="button" data-slide="next">-->
<!--                                            <span class="carousel-control-next-icon" aria-hidden="true"></span>-->
<!--                                            <span class="sr-only">Next</span>-->
<!--                                        </a>-->
<!--                                    </div>-->
                                    <div th:id="'sliderBigImages'+${it.index}" class="carousel slide" data-ride="carousel" style="width: 270px">
                                        <div class="carousel-inner">
<!--                                            <div class="carousel-item active">-->
<!--                                                <img src="/image/city.jpg" class="d-block w-100" alt="Природа">-->
<!--                                            </div>-->
                                            <div th:each="photo, iterator : ${obgect.getPhotos()}" th:class="'carousel-item '+ (${iterator.index!=0}? '' :'active')">
                                                <img th:src="'https://storage.yandexcloud.net/okm3agency/'+${photo.getURL_photo()}" class="d-block w-100" alt="Природа">
                                            </div>
                                        </div>
                                        <a class="carousel-control-prev" th:href="'#sliderBigImages'+${it.index}" role="button" data-slide="prev">
                                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                            <span class="sr-only">Previous</span>
                                        </a>
                                        <a class="carousel-control-next" th:href="'#sliderBigImages'+${it.index}" role="button" data-slide="next">
                                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                            <span class="sr-only">Next</span>
                                        </a>
                                    </div>
                                    <a th:href="'/managers/objects/delete/'+ ${obgect.getIdObject()}" onclick="return confirm('Вы действительно хотите удалить объект?')">
                                        <img src="/image/delete.png" class="close" alt="удоли"/>
                                    </a>
                                </div>
                            </div>
                            <div class = "col-8">
                                <div class="row">
                                    <div class="col-4 price">
                                        <h4 th:text="${obgect.price}">ЦЕНА</h4>
                                    </div>
                                    <div class="col-8 info">
                                        <h6 th:text="${obgect.countRoom}+' к, '+ ${obgect.square} + ' м2'"></h6>
                                        <p th:text="${obgect.getCountFloor()}+' этаж'">Этаж</p>
                                        <p th:text="${obgect.adress}">Адрес</p>
                                        <!--                                <p th:text="${obgect.}">Тип</p>-->
                                    </div>
                                </div>
                                <div class="desc">
<!--                                th:text="${obgect.description}">-->
                                    очнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много буквочнень много
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                <!-- Clearfix -->
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
<script th:src="@{/js/clear.js}"></script>
</body>
</html>